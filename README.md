# ЁЯОн Emotion Detection for Raspberry Pi 4

р╕гр╕░р╕Ър╕Ър╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╕нр╕▓р╕гр╕бр╕Ур╣Мр╕Фр╣Йр╕зр╕вр╕Бр╕ер╣Йр╕нр╕З Raspberry Pi 4 р╕Юр╕гр╣Йр╕нр╕бр╕Бр╕▓р╕гр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕ер╕З Excel

## ЁЯЪи р╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕╡р╣Ир╣Бр╕Бр╣Йр╣Др╕Вр╣Бр╕ер╣Йр╕з

### 1. р╕Ыр╕▒р╕Нр╕лр╕▓ `__main__` р╣Ар╕Вр╕╡р╕вр╕Щр╕Ьр╕┤р╕Ф
**р╕Ыр╕▒р╕Нр╕лр╕▓:** р╣Гр╕Щр╣Др╕Яр╕ер╣М `app.py` р╕Ър╕гр╕гр╕Чр╕▒р╕Ф 342 р╣Ар╕Вр╕╡р╕вр╕Щ `if __name__ == "_main_":` р╕Ьр╕┤р╕Ф
**р╣Бр╕Бр╣Йр╣Др╕В:** р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Ар╕Ыр╣Зр╕Щ `if __name__ == "__main__":`

### 2. р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ `show_camera_info` р╕Вр╕▓р╕Ф `def`
**р╕Ыр╕▒р╕Нр╕лр╕▓:** р╣Гр╕Щр╣Др╕Яр╕ер╣М `emotion_detector.py` р╕Ър╕гр╕гр╕Чр╕▒р╕Ф 771 р╕Вр╕▓р╕Ф `def show_camera_info(self):`
**р╣Бр╕Бр╣Йр╣Др╕В:** р╣Ар╕Юр╕┤р╣Ир╕б `def show_camera_info(self):` р╕лр╕Щр╣Йр╕▓ docstring

### 3. р╕Ыр╕▒р╕Нр╕лр╕▓ PiCamera2 р╣Др╕бр╣Ир╕Чр╕│р╕Зр╕▓р╕Щр╕Бр╕▒р╕Ър╕Бр╕ер╣Йр╕нр╕З USB
**р╕Ыр╕▒р╕Нр╕лр╕▓:** PiCamera2 р╣Гр╕Кр╣Йр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕ер╣Йр╕нр╕З Raspberry Pi Camera Module (CSI) р╣Др╕бр╣Ир╣Гр╕Кр╣Ир╕Бр╕ер╣Йр╕нр╕З USB
**р╣Бр╕Бр╣Йр╣Др╕В:** 
- р╣Ар╕Юр╕┤р╣Ир╕бр╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ `detect_usb_camera()` р╣Ар╕Юр╕╖р╣Ир╕нр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕ер╣Йр╕нр╕З USB
- р╣Бр╕Бр╣Йр╣Др╕Вр╕ер╕│р╕Фр╕▒р╕Ър╕Бр╕▓р╕гр╣Ар╕ер╕╖р╕нр╕Бр╕Бр╕ер╣Йр╕нр╕Зр╣Гр╕лр╣Йр╕ер╕нр╕З USB р╕Бр╣Ир╕нр╕Щ PiCamera2
- р╕кр╕гр╣Йр╕▓р╕Зр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕зр╕┤р╕Щр╕┤р╕Ир╕Йр╕▒р╕в `diagnose_camera.py` р╣Бр╕ер╕░ `test_usb_camera.py`

### 4. р╕Ыр╕▒р╕Нр╕лр╕▓р╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕ар╕▓р╕йр╕▓р╣Др╕Чр╕вр╣Ар╕Ыр╣Зр╕Щ "?????"
**р╕Ыр╕▒р╕Нр╕лр╕▓:** OpenCV р╣Др╕бр╣Ир╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕ар╕▓р╕йр╕▓р╣Др╕Чр╕в р╕Чр╕│р╣Гр╕лр╣Йр╣Бр╕кр╕Фр╕Зр╣Ар╕Ыр╣Зр╕Щ "?????"
**р╣Бр╕Бр╣Йр╣Др╕В:** 
- р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕нр╕▓р╕гр╕бр╕Ур╣Мр╣Ар╕Ыр╣Зр╕Щр╕ар╕▓р╕йр╕▓р╕нр╕▒р╕Зр╕Бр╕др╕й (Happy, Neutral, Sad, Angry)
- р╣Ар╕Бр╣Зр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕ар╕▓р╕йр╕▓р╣Др╕Чр╕вр╣Гр╕Щ Excel р╣Бр╕Хр╣Ир╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╣Ар╕Ыр╣Зр╕Щр╕ар╕▓р╕йр╕▓р╕нр╕▒р╕Зр╕Бр╕др╕йр╕Ър╕Щр╕лр╕Щр╣Йр╕▓р╕Ир╕н
- р╕кр╕гр╣Йр╕▓р╕Зр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ъ `test_thai_display.py`

### 5. р╕Ыр╕▒р╕Нр╕лр╕▓р╕Бр╕▓р╕гр╕Ър╕▒р╕Щр╕Чр╕╢р╕Б Excel р╣Др╕бр╣Ир╣Ар╕Ыр╣Зр╕Щр╣Др╕Ыр╕Хр╕▓р╕бр╣Ар╕зр╕ер╕▓р╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г
**р╕Ыр╕▒р╕Нр╕лр╕▓:** р╕гр╕░р╕Ър╕Ър╕Ър╕▒р╕Щр╕Чр╕╢р╕Б Excel р╕Чр╕╕р╕Б 10 р╕Др╕гр╕▒р╣Йр╕З р╣Бр╕Чр╕Щр╕Чр╕╡р╣Ир╕Ир╕░р╣Ар╕Ыр╣Зр╕Щр╕Чр╕╕р╕Б 5 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡
**р╣Бр╕Бр╣Йр╣Др╕В:** 
- р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Ир╕▓р╕Б counter-based р╣Ар╕Ыр╣Зр╕Щ time-based saving
- р╕Ър╕▒р╕Щр╕Чр╕╢р╕Б Excel р╕Чр╕╕р╕Б 5 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡р╕Хр╕▓р╕бр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г
- р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕вр╕╖р╕Щр╕вр╕▒р╕Щр╣Ар╕бр╕╖р╣Ир╕нр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕кр╕│р╣Ар╕гр╣Зр╕И

### 6. р╕Ыр╕▒р╕Нр╕лр╕▓ Score р╣Бр╕кр╕Фр╕Зр╣Ар╕Ыр╣Зр╕Щ "????"
**р╕Ыр╕▒р╕Нр╕лр╕▓:** р╕Фр╕▓р╕з (тШЕ) р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╣Гр╕Щ OpenCV р╣Др╕Фр╣Й
**р╣Бр╕Бр╣Йр╣Др╕В:** 
- р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Ир╕▓р╕Б тШЕ р╣Ар╕Ыр╣Зр╕Щ * (asterisk)
- р╕Ыр╕гр╕▒р╕Ър╕Вр╕Щр╕▓р╕Фр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Гр╕лр╣Йр╣Ар╕лр╕бр╕▓р╕░р╕кр╕бр╕Бр╕▒р╕Ър╕лр╕Щр╣Йр╕▓р╕Ир╕нр╣Ар╕Хр╣Зр╕б
- р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╕Ыр╕гр╕▒р╕Ър╕Вр╕Щр╕▓р╕Фр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤

### 7. р╕Ыр╕▒р╕Нр╕лр╕▓р╕лр╕Щр╣Йр╕▓р╕Хр╣Ир╕▓р╕Зр╣Др╕бр╣Ир╣Ар╕Хр╣Зр╕бр╕Ир╕н
**р╕Ыр╕▒р╕Нр╕лр╕▓:** р╕лр╕Щр╣Йр╕▓р╕Хр╣Ир╕▓р╕Зр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╣Др╕бр╣Ир╣Ар╕Хр╣Зр╕бр╕Ир╕н
**р╣Бр╕Бр╣Йр╣Др╕В:** 
- р╣Ар╕Юр╕┤р╣Ир╕бр╣Вр╕лр╕бр╕Фр╣Ар╕Хр╣Зр╕бр╕Ир╕нр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
- р╣Ар╕Юр╕┤р╣Ир╕бр╕Ыр╕╕р╣Ир╕б 'f' р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕ер╕▒р╕Ър╣Вр╕лр╕бр╕Фр╣Ар╕Хр╣Зр╕бр╕Ир╕н
- р╕Ыр╕гр╕▒р╕Ър╕Вр╕Щр╕▓р╕Фр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Гр╕лр╣Йр╣Ар╕лр╕бр╕▓р╕░р╕кр╕бр╕Бр╕▒р╕Ър╕лр╕Щр╣Йр╕▓р╕Ир╕нр╣Гр╕лр╕Нр╣И

### 8. р╕Ыр╕▒р╕Нр╕лр╕▓ GStreamer р╣Бр╕ер╕░ V4L2 р╣Др╕бр╣Ир╕Чр╕│р╕Зр╕▓р╕Щ
**р╕Ыр╕▒р╕Нр╕лр╕▓:** р╕гр╕░р╕Ър╕Ър╕Юр╕вр╕▓р╕вр╕▓р╕бр╣Гр╕Кр╣Й GStreamer р╣Бр╕ер╕░ V4L2 р╕Бр╣Ир╕нр╕Щ р╣Бр╕Хр╣Ир╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Ыр╕┤р╕Фр╕Бр╕ер╣Йр╕нр╕Зр╣Др╕Фр╣Й
**р╣Бр╕Бр╣Йр╣Др╕В:** 
- р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕ер╕│р╕Фр╕▒р╕Ър╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕ер╣Йр╕нр╕Зр╣Гр╕лр╣Йр╕ер╕нр╕З OpenCV р╣Бр╕Ър╕Ър╕Шр╕гр╕гр╕бр╕Фр╕▓р╕Бр╣Ир╕нр╕Щ
- р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕г error р╕Чр╕╡р╣Ир╕Фр╕╡р╕Вр╕╢р╣Йр╕Щ
- р╕кр╕гр╣Йр╕▓р╕Зр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕ер╣Йр╕нр╕Зр╣Бр╕Ър╕Ър╕Зр╣Ир╕▓р╕в `test_simple_camera.py`

### 9. р╕Ыр╕▒р╕Нр╕лр╕▓р╕Бр╕ер╣Йр╕нр╕Зр╣Ар╕Ыр╕┤р╕Фр╣Др╕бр╣Ир╕Хр╕┤р╕Ф (р╣Др╕Яр╣Др╕бр╣Ир╕Юр╕н)
**р╕Ыр╕▒р╕Нр╕лр╕▓:** р╕Бр╕ер╣Йр╕нр╕Зр╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Ыр╕┤р╕Фр╣Др╕Фр╣Й р╕нр╕▓р╕Ир╣Ар╕Бр╕┤р╕Фр╕Ир╕▓р╕Бр╕Юр╕ер╕▒р╕Зр╕Зр╕▓р╕Щр╣Др╕бр╣Ир╣Ар╕Юр╕╡р╕вр╕Зр╕Юр╕н
**р╣Бр╕Бр╣Йр╣Др╕В:** 
- р╕кр╕гр╣Йр╕▓р╕Зр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕зр╕┤р╕Щр╕┤р╕Ир╕Йр╕▒р╕вр╕Юр╕ер╕▒р╕Зр╕Зр╕▓р╕Щ `diagnose_camera_power.py`
- р╕кр╕гр╣Йр╕▓р╕Зр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ър╕Юр╕ер╕▒р╕Зр╕Зр╕▓р╕Щ `test_power_supply.py`
- р╕кр╕гр╣Йр╕▓р╕Зр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤ `fix_camera_issues.sh`

### 10. р╕Ыр╕▒р╕Нр╕лр╕▓р╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╣Гр╕Ър╕лр╕Щр╣Йр╕▓р╣Др╕бр╣Ир╕Фр╕╡
**р╕Ыр╕▒р╕Нр╕лр╕▓:** р╕гр╕░р╕Ър╕Ър╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╣Гр╕Ър╕лр╕Щр╣Йр╕▓р╣Др╕бр╣Ир╣Др╕Фр╣Йр╕лр╕гр╕╖р╕нр╣Др╕бр╣Ир╣Бр╕бр╣Ир╕Щр╕вр╕│
**р╣Бр╕Бр╣Йр╣Др╕В:** 
- р╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╕Юр╕▓р╕гр╕▓р╕бр╕┤р╣Ар╕Хр╕нр╕гр╣Мр╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╣Гр╕Ър╕лр╕Щр╣Йр╕▓ (scaleFactor, minNeighbors)
- р╣Ар╕Юр╕┤р╣Ир╕бр╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╣Ар╕Яр╕гр╕б (frame enhancement)
- р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕гр╕нр╕Ър╣Бр╕кр╕Фр╕Зр╣Гр╕Ър╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣Ир╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╣Др╕Фр╣Й
- р╕кр╕гр╣Йр╕▓р╕Зр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╣Гр╕Ър╕лр╕Щр╣Йр╕▓ `test_face_detection.py`
- р╣Ар╕Юр╕┤р╣Ир╕бр╣Вр╕лр╕бр╕Фр╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╣Гр╕Ър╕лр╕Щр╣Йр╕▓р╣Гр╕Щр╣Вр╕Ыр╕гр╣Бр╕Бр╕гр╕бр╕лр╕ер╕▒р╕Б

### 11. р╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╣Ар╕Ыр╣Зр╕Щ Real-time Detection + Data Save Every 5s
**р╕Ыр╕▒р╕Нр╕лр╕▓:** р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╣Бр╕Ър╕Ъ real-time р╣Бр╕Хр╣Ир╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╕р╕Б 5 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡
**р╣Бр╕Бр╣Йр╣Др╕В:** 
- р╕Ыр╕гр╕▒р╕Ъ FRAME_SKIP = 1 (р╣Др╕бр╣Ир╕Вр╣Йр╕▓р╕бр╣Ар╕Яр╕гр╕б)
- р╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╕Чр╕╕р╕Б 50ms (20 FPS) р╕кр╕│р╕лр╕гр╕▒р╕Ъ real-time
- р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╕р╕Б 5 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡р╣Бр╕Чр╕Щр╕Бр╕▓р╕гр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Чр╕╕р╕Бр╣Ар╕Яр╕гр╕б
- р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕кр╕Цр╕▓р╕Щр╕░р╕Бр╕▓р╕гр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕е
- р╕кр╕гр╣Йр╕▓р╕Зр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ъ real-time `test_realtime_detection.py`

### 12. р╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓р╕Бр╕▓р╕гр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕ер╕З Excel
**р╕Ыр╕▒р╕Нр╕лр╕▓:** р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕кр╕гр╣Йр╕▓р╕Зр╣Бр╕ер╕░р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕ер╕З Excel
**р╣Бр╕Бр╣Йр╣Др╕В:** 
- р╣Бр╕Бр╣Йр╣Др╕Вр╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ `save_to_excel` р╣Гр╕лр╣Йр╣Ар╕гр╕╡р╕вр╕Бр╣Гр╕Кр╣Й `_save_to_excel_internal` р╣Вр╕Фр╕вр╕Хр╕гр╕З
- р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М Excel р╣Гр╕Щ `_save_to_excel_internal`
- р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б debug р╣Бр╕ер╕░ error handling
- р╕кр╕гр╣Йр╕▓р╕Зр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ъ Excel `test_excel_saving.py`
- р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕З path р╕Вр╕нр╕Зр╣Др╕Яр╕ер╣М Excel

## ЁЯУЛ р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕лр╕бр╣И

1. **`requirements.txt`** - р╕гр╕▓р╕вр╕Бр╕▓р╕г dependencies р╕Чр╕╡р╣Ир╕Ир╕│р╣Ар╕Ыр╣Зр╕Щ
2. **`setup_raspberry_pi.sh`** - р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╣Бр╕ер╕░р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕гр╕░р╕Ър╕Ъ
3. **`test_camera.py`** - р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕ер╣Йр╕нр╕З
4. **`diagnose_camera.py`** - р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕зр╕┤р╕Щр╕┤р╕Ир╕Йр╕▒р╕вр╕Ыр╕▒р╕Нр╕лр╕▓р╕Бр╕ер╣Йр╕нр╕З
5. **`test_usb_camera.py`** - р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕ер╣Йр╕нр╕З USB
6. **`test_manual_emotion.py`** - р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ъ manual emotion
7. **`test_thai_display.py`** - р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕ар╕▓р╕йр╕▓р╣Др╕Чр╕в
8. **`test_fullscreen.py`** - р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ър╣Вр╕лр╕бр╕Фр╣Ар╕Хр╣Зр╕бр╕Ир╕н
9. **`test_simple_camera.py`** - р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕ер╣Йр╕нр╕Зр╣Бр╕Ър╕Ър╕Зр╣Ир╕▓р╕в
10. **`diagnose_camera_power.py`** - р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕зр╕┤р╕Щр╕┤р╕Ир╕Йр╕▒р╕вр╕Юр╕ер╕▒р╕Зр╕Зр╕▓р╕Щр╕Бр╕ер╣Йр╕нр╕З
11. **`test_power_supply.py`** - р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ър╣Бр╕лр╕ер╣Ир╕Зр╕Ир╣Ир╕▓р╕вр╣Др╕Я
12. **`fix_camera_issues.sh`** - р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓р╕Бр╕ер╣Йр╕нр╕Зр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
13. **`test_face_detection.py`** - р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╣Гр╕Ър╕лр╕Щр╣Йр╕▓
14. **`test_realtime_detection.py`** - р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ъ real-time detection
15. **`test_excel_saving.py`** - р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Ър╕▒р╕Щр╕Чр╕╢р╕Б Excel
16. **`README.md`** - р╕Др╕╣р╣Ир╕бр╕╖р╕нр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

## ЁЯЪА р╕зр╕┤р╕Шр╕╡р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╣Бр╕ер╕░р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 1: р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╕гр╕░р╕Ър╕Ъ
```bash
# р╣Гр╕лр╣Йр╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣М
chmod +x setup_raspberry_pi.sh

# р╕гр╕▒р╕Щр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З
./setup_raspberry_pi.sh
```

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 2: р╕гр╕╡р╕Ър╕╣р╕Хр╕гр╕░р╕Ър╕Ъ
```bash
sudo reboot
```

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 3: р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕ер╣Йр╕нр╕З
```bash
# р╣Ар╕Ыр╕┤р╕Фр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ virtual environment
source emotion_detection_env/bin/activate

# р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕ер╣Йр╕нр╕Зр╕Чр╕▒р╣Ир╕зр╣Др╕Ы
python3 test_camera.py

# р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕ер╣Йр╕нр╕З USB р╣Ар╕Йр╕Юр╕▓р╕░
python3 test_usb_camera.py

# р╕зр╕┤р╕Щр╕┤р╕Ир╕Йр╕▒р╕вр╕Ыр╕▒р╕Нр╕лр╕▓р╕Бр╕ер╣Йр╕нр╕З
python3 diagnose_camera.py
```

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 4: р╕Чр╕Фр╕кр╕нр╕Ър╕гр╕░р╕Ър╕Ъ Manual Emotion
```bash
# р╕Чр╕Фр╕кр╕нр╕Ър╕гр╕░р╕Ър╕Ъ manual emotion
python3 test_manual_emotion.py

# р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕ар╕▓р╕йр╕▓р╣Др╕Чр╕в
python3 test_thai_display.py

# р╕Чр╕Фр╕кр╕нр╕Ър╣Вр╕лр╕бр╕Фр╣Ар╕Хр╣Зр╕бр╕Ир╕н
python3 test_fullscreen.py

# р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕ер╣Йр╕нр╕Зр╣Бр╕Ър╕Ър╕Зр╣Ир╕▓р╕в
python3 test_simple_camera.py

# р╕Чр╕Фр╕кр╕нр╕Ър╣Бр╕лр╕ер╣Ир╕Зр╕Ир╣Ир╕▓р╕вр╣Др╕Я
python3 test_power_supply.py

# р╕зр╕┤р╕Щр╕┤р╕Ир╕Йр╕▒р╕вр╕Ыр╕▒р╕Нр╕лр╕▓р╕Юр╕ер╕▒р╕Зр╕Зр╕▓р╕Щр╕Бр╕ер╣Йр╕нр╕З
python3 diagnose_camera_power.py

# р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╣Гр╕Ър╕лр╕Щр╣Йр╕▓
python3 test_face_detection.py

# р╕Чр╕Фр╕кр╕нр╕Ъ real-time detection
python3 test_realtime_detection.py

# р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Ър╕▒р╕Щр╕Чр╕╢р╕Б Excel
python3 test_excel_saving.py
```

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 5: р╕гр╕▒р╕Щр╕гр╕░р╕Ър╕Ър╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╕нр╕▓р╕гр╕бр╕Ур╣М
```bash
# р╕гр╕▒р╕Щр╣Ар╕зр╕нр╕гр╣Мр╕Кр╕▒р╕Щр╣Гр╕лр╕бр╣И (р╣Бр╕Щр╕░р╕Щр╕│)
python3 emotion_detector.py

# р╕лр╕гр╕╖р╕нр╕гр╕▒р╕Щр╣Ар╕зр╕нр╕гр╣Мр╕Кр╕▒р╕Щр╣Ар╕Бр╣Ир╕▓
python3 app.py
```

### ЁЯОп р╕зр╕┤р╕Шр╕╡р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ Manual Emotion Input

1. **р╕гр╕▒р╕Щр╕гр╕░р╕Ър╕Ъ:** `python3 emotion_detector.py`
2. **р╣Ар╕ер╕╖р╕нр╕Бр╕Бр╕ер╣Йр╕нр╕З:** р╣Ар╕ер╕╖р╕нр╕Б "2. р╕Бр╕ер╣Йр╕нр╕З Raspberry Pi"
3. **р╕Бр╕Фр╕Ыр╕╕р╣Ир╕б Manual:**
   - р╕Бр╕Ф **1** = Happy 90% тЖТ *****
   - р╕Бр╕Ф **2** = Neutral 60% тЖТ ***
   - р╕Бр╕Ф **3** = Sad 35% тЖТ **
   - р╕Бр╕Ф **4** = Angry 10% тЖТ *
4. **Manual input р╕Ир╕░р╣Бр╕кр╕Фр╕З 5 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡** р╣Бр╕ер╣Йр╕зр╕Бр╕ер╕▒р╕Ър╣Др╕Ыр╣Гр╕Кр╣Й AI detection

## ЁЯФз р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓р╕Бр╕ер╣Йр╕нр╕Зр╣Ар╕Ыр╕┤р╕Фр╣Др╕бр╣Ир╕Хр╕┤р╕Ф

### тЪб р╕Ыр╕▒р╕Нр╕лр╕▓р╕Юр╕ер╕▒р╕Зр╕Зр╕▓р╕Щр╣Др╕бр╣Ир╣Ар╕Юр╕╡р╕вр╕Зр╕Юр╕н

р╕лр╕▓р╕Бр╕Бр╕ер╣Йр╕нр╕Зр╣Ар╕Ыр╕┤р╕Фр╣Др╕бр╣Ир╕Хр╕┤р╕Ф р╕нр╕▓р╕Ир╣Ар╕Бр╕┤р╕Фр╕Ир╕▓р╕Бр╕Юр╕ер╕▒р╕Зр╕Зр╕▓р╕Щр╣Др╕бр╣Ир╣Ар╕Юр╕╡р╕вр╕Зр╕Юр╕н:

```bash
# р╕Чр╕Фр╕кр╕нр╕Ър╣Бр╕лр╕ер╣Ир╕Зр╕Ир╣Ир╕▓р╕вр╣Др╕Я
python3 test_power_supply.py

# р╕зр╕┤р╕Щр╕┤р╕Ир╕Йр╕▒р╕вр╕Ыр╕▒р╕Нр╕лр╕▓р╕Юр╕ер╕▒р╕Зр╕Зр╕▓р╕Щ
python3 diagnose_camera_power.py

# р╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
sudo ./fix_camera_issues.sh
```

### ЁЯФН р╕кр╕▓р╣Ар╕лр╕Хр╕╕р╕Чр╕╡р╣Ир╕Юр╕Ър╕Ър╣Ир╕нр╕в:

1. **р╣Бр╕лр╕ер╣Ир╕Зр╕Ир╣Ир╕▓р╕вр╣Др╕Яр╣Др╕бр╣Ир╣Ар╕Юр╕╡р╕вр╕Зр╕Юр╕н**
   - р╣Гр╕Кр╣Й adapter р╕Чр╕╡р╣Ир╣Др╕бр╣Ир╣Гр╕Кр╣Ир╕Вр╕нр╕Зр╕Чр╕▓р╕Зр╕Бр╕▓р╕г
   - р╣Др╕Яр╣Др╕бр╣Ир╕Цр╕╢р╕З 5V 3A
   - р╕кр╕▓р╕в USB р╕вр╕▓р╕зр╣Ар╕Бр╕┤р╕Щр╣Др╕Ы

2. **р╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕Цр╕╢р╕Зр╕Бр╕ер╣Йр╕нр╕З**
   - User р╣Др╕бр╣Ир╣Др╕Фр╣Йр╕нр╕вр╕╣р╣Ир╣Гр╕Щ video group
   - Permissions р╕Вр╕нр╕З /dev/video* р╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З

3. **р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕гр╕░р╕Ър╕Ъ**
   - Camera р╣Др╕бр╣Ир╣Др╕Фр╣Йр╣Ар╕Ыр╕┤р╕Фр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Гр╕Щ raspi-config
   - config.txt р╣Др╕бр╣Ир╕бр╕╡р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕Бр╕ер╣Йр╕нр╕З

4. **р╕ор╕▓р╕гр╣Мр╕Фр╣Бр╕зр╕гр╣М**
   - р╕кр╕▓р╕в USB р╣Ар╕кр╕╡р╕в
   - Port USB р╣Ар╕кр╕╡р╕в
   - р╕Бр╕ер╣Йр╕нр╕Зр╣Др╕бр╣Ир╣Ар╕Вр╣Йр╕▓р╕Бр╕▒р╕Щ

## ЁЯФз р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓р╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╣Гр╕Ър╕лр╕Щр╣Йр╕▓

### ЁЯСд р╕Ыр╕▒р╕Нр╕лр╕▓р╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╣Гр╕Ър╕лр╕Щр╣Йр╕▓р╣Др╕бр╣Ир╕Фр╕╡

р╕лр╕▓р╕Бр╕гр╕░р╕Ър╕Ър╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╣Гр╕Ър╕лр╕Щр╣Йр╕▓р╣Др╕бр╣Ир╣Др╕Фр╣Йр╕лр╕гр╕╖р╕нр╣Др╕бр╣Ир╣Бр╕бр╣Ир╕Щр╕вр╕│:

```bash
# р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╣Гр╕Ър╕лр╕Щр╣Йр╕▓
python3 test_face_detection.py

# р╕гр╕▒р╕Щр╣Вр╕Ыр╕гр╣Бр╕Бр╕гр╕бр╕лр╕ер╕▒р╕Бр╣Гр╕Щр╣Вр╕лр╕бр╕Фр╕Чр╕Фр╕кр╕нр╕Ъ
python3 emotion_detector.py
# р╣Ар╕ер╕╖р╕нр╕Б "2. р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╣Гр╕Ър╕лр╕Щр╣Йр╕▓"
```

### ЁЯФН р╕кр╕▓р╣Ар╕лр╕Хр╕╕р╕Чр╕╡р╣Ир╕Юр╕Ър╕Ър╣Ир╕нр╕в:

1. **р╣Бр╕кр╕Зр╣Др╕бр╣Ир╣Ар╕Юр╕╡р╕вр╕Зр╕Юр╕н**
   - р╣Гр╕Кр╣Йр╣Бр╕кр╕Зр╕Шр╕гр╕гр╕бр╕Кр╕▓р╕Хр╕┤р╕лр╕гр╕╖р╕нр╣Др╕Яр╕кр╕зр╣Ир╕▓р╕З
   - р╕лр╕ер╕╡р╕Бр╣Ар╕ер╕╡р╣Ир╕вр╕Зр╣Бр╕кр╕Зр╕Ир╣Йр╕▓р╕Ир╕▓р╕Бр╕Фр╣Йр╕▓р╕Щр╕лр╕ер╕▒р╕З
   - р╕Ыр╕гр╕▒р╕Ър╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕Зр╕Бр╕ер╣Йр╕нр╕Зр╣Гр╕лр╣Йр╣Ар╕лр╕бр╕▓р╕░р╕кр╕б

2. **р╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕Зр╣Гр╕Ър╕лр╕Щр╣Йр╕▓**
   - р╣Гр╕Ър╕лр╕Щр╣Йр╕▓р╕Хр╣Йр╕нр╕Зр╕нр╕вр╕╣р╣Ир╕Хр╕гр╕Зр╕Бр╕ер╕▓р╕Зр╕Бр╕ер╣Йр╕нр╕З
   - р╕гр╕░р╕вр╕░р╕лр╣Ир╕▓р╕Зр╕Ыр╕гр╕░р╕бр╕▓р╕У 50-100 р╕Лр╕б.
   - р╕лр╕ер╕╡р╕Бр╣Ар╕ер╕╡р╣Ир╕вр╕Зр╕Бр╕▓р╕гр╣Ар╕нр╕╡р╕вр╕Зр╕лр╕▒р╕зр╕бр╕▓р╕Б

3. **р╕кр╕┤р╣Ир╕Зр╕Бр╕╡р╕Фр╕Вр╕зр╕▓р╕З**
   - р╣Ар╕нр╕▓р╕лр╕Щр╣Йр╕▓р╕Хр╕▓ р╣Бр╕зр╣Ир╕Щр╕Хр╕▓ р╕лр╕гр╕╖р╕нр╕лр╕бр╕зр╕Бр╕нр╕нр╕Б
   - р╕лр╕ер╕╡р╕Бр╣Ар╕ер╕╡р╣Ир╕вр╕Зр╕Ьр╕бр╕Ър╕▒р╕Зр╕лр╕Щр╣Йр╕▓
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Ар╕ер╕Щр╕кр╣Мр╕Бр╕ер╣Йр╕нр╕Зр╕кр╕░р╕нр╕▓р╕Ф

4. **р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕Бр╕ер╣Йр╕нр╕З**
   - р╕Ыр╕гр╕▒р╕Ър╣Вр╕Яр╕Бр╕▒р╕кр╣Гр╕лр╣Йр╕Кр╕▒р╕Ф
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Др╕зр╕▓р╕бр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Бр╕ер╣Йр╕нр╕З
   - р╕ер╕нр╕Зр╣Гр╕Кр╣Йр╕Бр╕ер╣Йр╕нр╕Зр╕нр╕╖р╣Ир╕Щ

## ЁЯФз р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б

### тЪая╕П р╕кр╕┤р╣Ир╕Зр╕кр╕│р╕Др╕▒р╕Н: PiCamera2 vs р╕Бр╕ер╣Йр╕нр╕З USB

**PiCamera2** р╣Гр╕Кр╣Йр╕кр╕│р╕лр╕гр╕▒р╕Ъ:
- р╕Бр╕ер╣Йр╕нр╕З Raspberry Pi Camera Module (р╣Ар╕кр╕╡р╕вр╕Ър╕Ьр╣Ир╕▓р╕Щ CSI connector)
- р╣Др╕бр╣Ир╣Гр╕Кр╣Ир╕Бр╕ер╣Йр╕нр╕З USB

**р╕Бр╕ер╣Йр╕нр╕З USB** р╣Гр╕Кр╣Й:
- OpenCV р╕Бр╕▒р╕Ъ camera index (0, 1, 2, ...)
- р╣Др╕бр╣Ир╣Гр╕Кр╣И PiCamera2

### р╕Цр╣Йр╕▓р╕Бр╕ер╣Йр╕нр╕Зр╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Чр╕│р╕Зр╕▓р╕Щ:

1. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕Бр╕ер╣Йр╕нр╕З**
   ```bash
   # р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕ер╣Йр╕нр╕З CSI (PiCamera2)
   libcamera-hello --list-cameras
   
   # р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕ер╣Йр╕нр╕З USB
   ls -la /dev/video*
   lsusb | grep -i camera
   ```

2. **р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕ер╣Йр╕нр╕З USB**
   ```bash
   python3 test_usb_camera.py
   python3 diagnose_camera.py
   ```

3. **р╣Ар╕Ыр╕┤р╕Фр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Бр╕ер╣Йр╕нр╕З**
   ```bash
   sudo raspi-config
   # р╣Ар╕ер╕╖р╕нр╕Б Interface Options > Camera > Enable
   ```

4. **р╣Бр╕Бр╣Йр╣Др╕В config.txt**
   ```bash
   sudo nano /boot/config.txt
   # р╣Ар╕Юр╕┤р╣Ир╕бр╕Ър╕гр╕гр╕Чр╕▒р╕Фр╣Ар╕лр╕ер╣Ир╕▓р╕Щр╕╡р╣Й:
   camera_auto_detect=1
   start_x=1
   gpu_mem=128
   ```

5. **р╕гр╕╡р╕Ър╕╣р╕Хр╕гр╕░р╕Ър╕Ъ**
   ```bash
   sudo reboot
   ```

### р╕Цр╣Йр╕▓ DeepFace р╣Др╕бр╣Ир╕Чр╕│р╕Зр╕▓р╕Щ:
```bash
# р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З TensorFlow р╕кр╕│р╕лр╕гр╕▒р╕Ъ ARM64
pip install tensorflow==2.13.0

# р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З DeepFace
pip install deepface==0.0.79
```

## ЁЯУК р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕Чр╕╡р╣Ир╣Ар╕Юр╕┤р╣Ир╕бр╣Гр╕лр╕бр╣И

- тЬЕ р╕гр╕нр╕Зр╕гр╕▒р╕Ъ PiCamera2 (р╣Бр╕Щр╕░р╕Щр╕│р╕кр╕│р╕лр╕гр╕▒р╕Ъ RPi 4)
- тЬЕ р╕гр╕нр╕Зр╕гр╕▒р╕Ъ GStreamer pipeline
- тЬЕ р╕гр╕нр╕Зр╕гр╕▒р╕Ъ V4L2 direct access
- тЬЕ р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕ер╣Йр╕нр╕З USB
- тЬЕ р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕ер╕З Excel
- тЬЕ р╕Ыр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕Зр╕Др╕зр╕▓р╕бр╕кр╕зр╣Ир╕▓р╕Зр╣Бр╕ер╕░р╕Др╕нр╕Щр╕Чр╕гр╕▓р╕кр╕Хр╣М
- тЬЕ р╕кр╕ер╕▒р╕Ър╣Вр╕лр╕бр╕Фр╕кр╕╡/р╕Вр╕▓р╕зр╕Фр╕│
- тЬЕ р╣Бр╕кр╕Фр╕Зр╕кр╕Цр╕┤р╕Хр╕┤р╕нр╕▓р╕гр╕бр╕Ур╣М
- тЬЕ **р╕гр╕░р╕Ър╕Ър╕Ыр╕гр╕░р╣Ар╕бр╕┤р╕Щр╕нр╕▓р╕гр╕бр╕Ур╣Мр╣Бр╕Ър╕Ъ Manual р╕Фр╣Йр╕зр╕в Keyboard**
- тЬЕ **р╕Бр╕▓р╕гр╣Бр╕Ыр╕ер╕Ьр╕ер╕нр╕▓р╕гр╕бр╕Ур╣Мр╕Хр╕▓р╕бр╣Ар╕Бр╕Ур╕Ср╣Мр╣Гр╕лр╕бр╣И (Happy 80-100%, Neutral 50-70%, Sad 30-40%, Angry 0-20%)**

## ЁЯОо р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Др╕зр╕Ър╕Др╕╕р╕б

### р╕Бр╕▓р╕гр╕Др╕зр╕Ър╕Др╕╕р╕бр╕Чр╕▒р╣Ир╕зр╣Др╕Ы
- **q** - р╕нр╕нр╕Бр╕Ир╕▓р╕Бр╣Вр╕Ыр╕гр╣Бр╕Бр╕гр╕б
- **s** р╕лр╕гр╕╖р╕н **SPACE** - р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕гр╕╣р╕Ыр╕ар╕▓р╕Ю
- **i** - р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Бр╕ер╣Йр╕нр╕З
- **c** - р╕кр╕ер╕▒р╕Ър╣Вр╕лр╕бр╕Фр╕кр╕╡
- **f** - р╕кр╕ер╕▒р╕Ър╣Вр╕лр╕бр╕Фр╣Ар╕Хр╣Зр╕бр╕Ир╕н (р╣Гр╕лр╕бр╣И!)
- **b/v** - р╕Ыр╕гр╕▒р╕Ър╕Др╕зр╕▓р╕бр╕кр╕зр╣Ир╕▓р╕З (+/-)
- **n/m** - р╕Ыр╕гр╕▒р╕Ър╕Др╕нр╕Щр╕Чр╕гр╕▓р╕кр╕Хр╣М (+/-)

### ЁЯОп Manual Emotion Input (р╣Гр╕лр╕бр╣И!)
- **1** - Happy 80-100% тЖТ *****
- **2** - Neutral 50-70% тЖТ ***
- **3** - Sad 30-40% тЖТ **
- **4** - Angry 0-20% тЖТ *

> **р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕:** Manual input р╕Ир╕░р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Др╕Фр╣Й 5 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡ р╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Бр╕Бр╕Фр╕Ыр╕╕р╣Ир╕б

## ЁЯУБ р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М

```
detected-face-ai/
тФЬтФАтФА app.py                    # р╣Ар╕зр╕нр╕гр╣Мр╕Кр╕▒р╕Щр╣Ар╕Бр╣Ир╕▓ (р╣Бр╕Бр╣Йр╣Др╕Вр╣Бр╕ер╣Йр╕з)
тФЬтФАтФА emotion_detector.py       # р╣Ар╕зр╕нр╕гр╣Мр╕Кр╕▒р╕Щр╣Гр╕лр╕бр╣И (р╣Бр╕Щр╕░р╕Щр╕│)
тФЬтФАтФА emotion_data.xlsx         # р╣Др╕Яр╕ер╣Мр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕нр╕▓р╕гр╕бр╕Ур╣М
тФЬтФАтФА requirements.txt          # Dependencies
тФЬтФАтФА setup_raspberry_pi.sh    # р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З
тФЬтФАтФА test_camera.py           # р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕ер╣Йр╕нр╕З
тФЬтФАтФА diagnose_camera.py       # р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕зр╕┤р╕Щр╕┤р╕Ир╕Йр╕▒р╕вр╕Ыр╕▒р╕Нр╕лр╕▓р╕Бр╕ер╣Йр╕нр╕З
тФЬтФАтФА test_usb_camera.py       # р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕ер╣Йр╕нр╕З USB
тФЬтФАтФА test_manual_emotion.py   # р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ъ manual emotion
тФЬтФАтФА test_thai_display.py     # р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕ар╕▓р╕йр╕▓р╣Др╕Чр╕в
тФЬтФАтФА test_fullscreen.py       # р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ър╣Вр╕лр╕бр╕Фр╣Ар╕Хр╣Зр╕бр╕Ир╕н
тФЬтФАтФА test_simple_camera.py    # р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕ер╣Йр╕нр╕Зр╣Бр╕Ър╕Ър╕Зр╣Ир╕▓р╕в
тФЬтФАтФА diagnose_camera_power.py # р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕зр╕┤р╕Щр╕┤р╕Ир╕Йр╕▒р╕вр╕Юр╕ер╕▒р╕Зр╕Зр╕▓р╕Щр╕Бр╕ер╣Йр╕нр╕З
тФЬтФАтФА test_power_supply.py     # р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ър╣Бр╕лр╕ер╣Ир╕Зр╕Ир╣Ир╕▓р╕вр╣Др╕Я
тФЬтФАтФА fix_camera_issues.sh     # р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓р╕Бр╕ер╣Йр╕нр╕Зр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
тФЬтФАтФА test_face_detection.py   # р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╣Гр╕Ър╕лр╕Щр╣Йр╕▓
тФЬтФАтФА test_realtime_detection.py # р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ъ real-time detection
тФЬтФАтФА test_excel_saving.py     # р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Ър╕▒р╕Щр╕Чр╕╢р╕Б Excel
тФФтФАтФА README.md                # р╕Др╕╣р╣Ир╕бр╕╖р╕нр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
```

## ЁЯЖШ р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓

р╕лр╕▓р╕Бр╕вр╕▒р╕Зр╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓ р╣Гр╕лр╣Йр╕гр╕▒р╕Щр╕Др╕│р╕кр╕▒р╣Ир╕Зр╣Ар╕лр╕ер╣Ир╕▓р╕Щр╕╡р╣Йр╣Ар╕Юр╕╖р╣Ир╕нр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ:

```bash
# р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕кр╕Цр╕▓р╕Щр╕░р╕Бр╕ер╣Йр╕нр╕З
vcgencmd get_camera

# р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ libcamera
libcamera-hello --list-cameras

# р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ OpenCV
python3 -c "import cv2; print(cv2.__version__)"

# р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ PiCamera2
python3 -c "from picamera2 import Picamera2; print('PiCamera2 OK')"
```

## ЁЯУЮ р╕Бр╕▓р╕гр╕кр╕Щр╕▒р╕Ър╕кр╕Щр╕╕р╕Щ

р╕лр╕▓р╕Бр╕вр╕▒р╕Зр╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓ р╕Бр╕гр╕╕р╕Ур╕▓р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ:
1. р╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕кр╕▓р╕вр╕Бр╕ер╣Йр╕нр╕З
2. р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Гр╕Щ raspi-config
3. р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З dependencies
4. р╕Бр╕▓р╕гр╕гр╕╡р╕Ър╕╣р╕Хр╕гр╕░р╕Ър╕Ър╕лр╕ер╕▒р╕Зр╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓
